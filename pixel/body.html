<script type="text/javascript">
  (function name(params) {
    // Validate inputs
    var licenseId = "{{settings.licenseId}}";
    if (typeof licenseId !== 'string' || licenseId === '') throw 'Oct8ne app: licenseId must be provided and must be a non empty string'

    var baseUrl = "{{settings.baseUrl}}";
    if (typeof baseUrl !== 'string' || baseUrl === '') throw 'Oct8ne app: baseUrl must be provided and must be a non empty string'
    baseUrl = decodeURIComponent(baseUrl);

    var server = "{{settings.server}}";
    if (typeof server !== 'string' || server === '' ) throw 'Oct8ne app: server must be provided and must be a non empty string'
    server = decodeURIComponent(server);

    var oct8neAppUrl = "{{settings.oct8neAppUrl}}";
    if (typeof oct8neAppUrl !== 'string' || oct8neAppUrl === '' ) throw 'Oct8ne app: oct8neAppUrl must be provided and must be a non empty string'
    oct8neAppUrl = decodeURIComponent(oct8neAppUrl);

    // Prepare oct8ne app options
    window.oct8neAppOptions = { licenseId, baseUrl, server, oct8neAppUrl}

    // Prepare src
    var separator = "?";
    if (window.oct8neAppOptions.oct8neAppUrl.indexOf('?') > -1 ) separator = '&';
    var cacheReload = 'v=' + (Math.round(new Date().getTime() / 86400000));// To make sure it is not cache for more than 24h
    var src = window.oct8neAppOptions.oct8neAppUrl + separator + cacheReload;

    // Load script in dom
    var scriptTag = document.createElement('script');
    scriptTag.type = "text/javascript";
    scriptTag.src = src;
    document.body.append(scriptTag)
  }());
</script>